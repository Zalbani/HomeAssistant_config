climate_card:
  show_name: true
  show_state: false
  show_icon: false
  styles:
    card:
      - height: 220px
      - border-radius: 20px
      - padding: 16px
      - border: 1px solid rgba(255, 255, 255, 0.1)
      - background: rgba(var(--rgb-card-background-color), 0.4)
    grid:
      - grid-template-areas: '"n" "metrics" "graphs"'
      - grid-template-columns: 1fr
      - grid-template-rows: min-content 1fr min-content
    name:
      - justify-self: start
      - font-size: 18px
      - font-weight: 700
      - margin-bottom: 12px
    custom_fields:
      metrics:
        - justify-self: center
        - align-self: center
      graphs:
        - justify-self: center
        - margin-top: 16px
        - width: 100%
  custom_fields:
    metrics: |
      [[[
        const temp = states[variables.temp_entity]?.state || '—';
        const hum = variables.humidity_entity ? (states[variables.humidity_entity]?.state || '—') : null;
        
        let html = `
          <div style="display: flex; align-items: center; justify-content: center; gap: 24px;">
            <ha-icon icon="mdi:thermometer" style="width: 32px; height: 32px; color: #FF5722;"></ha-icon>
            <div style="text-align: center;">
              <div style="font-size: 42px; font-weight: 700; line-height: 1;">${temp}°C</div>
              <div style="font-size: 12px; opacity: 0.6; margin-top: 4px;">Temperature</div>
            </div>`;
        
        if (hum) {
          html += `
            <div style="width: 2px; height: 50px; background: rgba(255,255,255,0.2);"></div>
            <div style="text-align: center;">
              <div style="font-size: 42px; font-weight: 700; line-height: 1;">${hum}%</div>
              <div style="font-size: 12px; opacity: 0.6; margin-top: 4px;">Humidity</div>
            </div>
            <ha-icon icon="mdi:water-percent" style="width: 32px; height: 32px; color: #2196F3;"></ha-icon>`;
        }
        
        html += `</div>`;
        return html;
      ]]]
    graphs: |
      [[[
        let items = `
          <div style="padding: 8px; background: rgba(255,255,255,0.05); border-radius: 12px; text-align: center;">
            <div style="font-size: 11px; opacity: 0.6; display: flex; align-items: center; justify-content: center; gap: 4px;">
              <ha-icon icon="mdi:thermometer" style="width: 12px; height: 12px;"></ha-icon>
              <span>Temp 24h</span>
            </div>
          </div>`;
        
        if (variables.humidity_entity) {
          items += `
            <div style="padding: 8px; background: rgba(255,255,255,0.05); border-radius: 12px; text-align: center;">
              <div style="font-size: 11px; opacity: 0.6; display: flex; align-items: center; justify-content: center; gap: 4px;">
                <ha-icon icon="mdi:water-percent" style="width: 12px; height: 12px;"></ha-icon>
                <span>Hum 24h</span>
              </div>
            </div>`;
        }
        
        return `<div style="display: grid; grid-template-columns: ${variables.humidity_entity ? '1fr 1fr' : '1fr'}; gap: 12px; width: 100%; max-width: 400px;">${items}</div>`;
      ]]]
